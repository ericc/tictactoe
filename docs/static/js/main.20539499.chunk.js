(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{17:function(e,t,a){e.exports=a(32)},22:function(e,t,a){},29:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"move",(function(){return u})),a.d(r,"computerMove",(function(){return p})),a.d(r,"changeCharacter",(function(){return m})),a.d(r,"changeFirst",(function(){return h})),a.d(r,"changeGameState",(function(){return d})),a.d(r,"resetGame",(function(){return b})),a.d(r,"changeSettingVisibility",(function(){return f}));var n=a(0),s=a.n(n),o=a(6),c=a.n(o),i=(a(22),a(5)),l=a(7);function u(e){return{type:"MOVE",position:e}}function p(e){return{type:"COMPUTER_MOVE",userFirst:e}}function m(e){return{type:"CHANGE_CHARACTER",character:e}}function h(){return{type:"CHANGE_FIRST"}}function d(e){return{type:"CHANGE_GAME_STATE",status:e}}function b(){return{type:"RESET_GAME"}}function f(e){return{type:"CHANGE_SETTING_VISIBILITY",visible:e}}var g=a(1),E=a(2),v=a(4),S=a(3),y=(a(29),{winConditions:[["aa","bb","cc"],["ac","bb","ca"],["aa","ab","ac"],["ba","bb","bc"],["ca","cb","cc"],["aa","ba","ca"],["ab","bb","cb"],["ac","bc","cc"]],cornerTraps:[{traps:[["ba","ab"],["ba","ac"],["ab","ca"]],danger:"cc"},{traps:[["ab","bc"],["ab","cc"],["aa","bc"]],danger:"ca"},{traps:[["bc","cb"],["cb","ac"],["bc","ca"]],danger:"aa"},{traps:[["ba","cb"],["aa","cb"],["ba","cc"]],danger:"ac"}],grid:["aa","ba","ca","ab","bb","cb","ac","bc","cc"],corners:["aa","ca","cc","ac"],edges:["ab","ba","bc","cb"]}),N=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"renderSquare",value:function(e,t){var a,r;return"o"===this.props.settings.players.user?(a=s.a.createElement("i",{className:"fa fa-circle-o"}),r=s.a.createElement("i",{className:"fa fa-times"})):(a=s.a.createElement("i",{className:"fa fa-times"}),r=s.a.createElement("i",{className:"fa fa-circle-o"})),s.a.createElement("div",{className:"board-col",key:t,onClick:this.props.makeMove.bind(this,e)},this.props.gameState.boardState.user.indexOf(e)>-1?a:"",this.props.gameState.boardState.computer.indexOf(e)>-1?r:"")}},{key:"render",value:function(){var e=y.grid.slice(0,3).map(this.renderSquare,this),t=y.grid.slice(3,6).map(this.renderSquare,this),a=y.grid.slice(6,9).map(this.renderSquare,this);return s.a.createElement("div",{id:"board"},this.props.gameState.active?null:s.a.createElement("div",{id:"pending-overlay"},s.a.createElement("p",null,s.a.createElement("i",{className:"fa fa-pause"}))),s.a.createElement("div",{id:"grid"},s.a.createElement("div",{className:"board-row"},e),s.a.createElement("div",{className:"board-row"},t),s.a.createElement("div",{className:"board-row"},a)))}}]),a}(n.Component),C=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"renderPreGameActions",value:function(){return s.a.createElement("div",{id:"game-actions"},s.a.createElement("button",{type:"button",className:"btn btn-start",onClick:this.props.startGame.bind(this)},"Start!"),s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.changeSettingVisibility},s.a.createElement("i",{className:"fa fa-pencil fa-btn"})," Edit"))}},{key:"renderInGameActions",value:function(){return s.a.createElement("div",{id:"in-game-actions"},s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.resetGame},s.a.createElement("i",{className:"fa fa-refresh fa-btn"})," Reset"),s.a.createElement("button",{type:"button",className:"btn btn-stop",onClick:this.props.changeGameState},s.a.createElement("i",{className:"fa fa-stop fa-btn"})," Stop"))}},{key:"renderSettingsDisplay",value:function(){return s.a.createElement("div",{id:"display"},s.a.createElement("p",null,"You are currently playing as:"),s.a.createElement("div",{id:"character-display"},"o"===this.props.userCharacter?s.a.createElement("i",{className:"fa fa-circle-o"}):s.a.createElement("i",{className:"fa fa-times"})),s.a.createElement("p",{id:"first-text"},!0===this.props.goFirst?"You are going first.":"Computer starts."),s.a.createElement("div",{className:"form-group text-center"},this.props.gameState.active?this.renderInGameActions():this.renderPreGameActions()))}},{key:"renderSettingsForm",value:function(){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("p",null,"Choose a character:"),s.a.createElement("label",{htmlFor:"o",className:"characters"},s.a.createElement("input",{type:"radio",id:"o",ref:"character",name:"character",value:"o",defaultChecked:"o"===this.props.userCharacter,onChange:this.props.changeCharacter}),s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-circle-o"}))),s.a.createElement("label",{htmlFor:"x",className:"characters"},s.a.createElement("input",{type:"radio",id:"x",ref:"character",name:"character",value:"x",defaultChecked:"x"===this.props.userCharacter,onChange:this.props.changeCharacter}),s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-times"})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"first"},s.a.createElement("input",{type:"checkbox",id:"first",defaultChecked:this.props.goFirst,onChange:this.props.changeFirst.bind(this)})," Go First")),s.a.createElement("div",{className:"form-group text-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.changeSettingVisibility},s.a.createElement("i",{className:"fa fa-undo fa-btn"})," Back")))}},{key:"render",value:function(){return s.a.createElement("div",{id:"settings-panel",className:"panel text-center"},s.a.createElement("h2",{className:"text-center panel-heading"},s.a.createElement("i",{className:"fa fa-cog"})," Game Settings"),this.props.formVisibility?this.renderSettingsForm():this.renderSettingsDisplay())}}]),a}(n.Component),G=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"results",className:"overlay"},s.a.createElement("div",{className:"panel"},s.a.createElement("h2",{className:"panel-heading text-center"},"Results"),s.a.createElement("div",{className:"text-center"},s.a.createElement("p",{id:"message"},"COMPUTER_WINS"===this.props.result?"The Computer has won!":"The game has ended in a tie."),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"button",id:"restart-btn",className:"btn btn-primary",onClick:this.props.resetGame},s.a.createElement("i",{className:"fa fa-repeat fa-btn"}))))))}}]),a}(n.Component),O=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"renderResult",value:function(){switch(this.props.store.gameState.result){case"COMPUTER_WINS":case"CATS_GAME":return s.a.createElement(G,{result:this.props.store.gameState.result,resetGame:this.props.store.resetGame});case"GAME_IN_PROGRESS":default:return""}}},{key:"move",value:function(e){-1===this.props.occupied.indexOf(e)?(this.props.userMove(e),this.props.computerMove(this.props.settings.goFirst)):console.log("Space already taken!")}},{key:"startGame",value:function(){this.props.changeGameState(),this.props.goFirst||this.props.computerMove(this.props.goFirst)}},{key:"render",value:function(){return s.a.createElement("div",{id:"game-console"},s.a.createElement(C,{changeCharacter:this.props.store.changeCharacter,changeFirst:this.props.store.changeFirst,userCharacter:this.props.store.settings.players.user,goFirst:this.props.store.settings.goFirst,formVisibility:this.props.store.settings.visible,changeGameState:this.props.store.changeGameState,startGame:this.startGame,resetGame:this.props.store.resetGame,changeSettingVisibility:this.props.store.changeSettingVisibility,gameState:this.props.store.gameState,computerMove:this.props.store.computerMove}),s.a.createElement(N,{occupied:this.props.store.gameState.boardState.user.concat(this.props.store.gameState.boardState.computer),settings:this.props.store.settings,gameState:this.props.store.gameState,boardState:this.props.store.gameState.boardState,makeMove:this.move,userMove:this.props.store.move,computerMove:this.props.store.computerMove}),this.renderResult())}}]),a}(n.Component),k=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("h1",{className:"text-center"},"Zero Sum Game"),s.a.createElement(O,{store:this.props}))}}]),a}(n.Component),M=Object(l.b)((function(e){return{gameState:e.gameState,settings:e.settings}}),(function(e){return Object(i.b)(r,e)}))(k),A=a(15),w=a(16),j=function(e,t){return t.every((function(t){return-1!==e.indexOf(t)}),e)},_=function(e,t){var a=[];return e.forEach((function(e){j(t,[e])||a.push(e)})),a};function T(e,t,a,r){var n=[];y.winConditions.forEach((function(t){n.push(j(e.computer,t))}));var s=!1===r?2:1;return j(n,[!0])?"COMPUTER_WINS":a.length<s?"CATS_GAME":"GAME_IN_PROGRESS"}function R(e,t,a){var r=e[t],n=[];return y.winConditions.forEach((function(e){var t=_(e,r);1===t.length&&(n.push(t[0]),n.forEach((function(e){j(a,[e])||n.pop(e)})))})),n}function F(e,t){if(j(t,["bb"])){var a=_(y.corners,t);if(a.length>0){var r=a;y.cornerTraps.forEach((function(t){t.traps.forEach((function(a){if(2===e.user.length&&j(a,e.user))return r.splice(r.indexOf(t.danger),1),console.log("Trap countered!"),!1}))}));var n=Math.floor(Math.random()*r.length);return r[n]}var s=_(y.grid,t);return s[Math.floor(Math.random()*s.length)]}return"bb"}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"CHANGE_GAME_STATE":return a.active=!e.active,a.boardState.user=[],a.boardState.computer=[],a;case"RESET_GAME":return a.boardState.user=[],a.boardState.computer=[],a.result="GAME_IN_PROGRESS",a;case"MOVE":var r=t.position,n=e.boardState.user.slice();return j(a.boardState.user.concat(a.boardState.computer),[r])?e:(n.push(r),a.boardState.user=n,a);case"COMPUTER_MOVE":var s,o=e.boardState.user.concat(e.boardState.computer),c=_(y.grid,o),i=e.boardState.user,l=R(e.boardState,"user",c),u=R(e.boardState,"computer",c);if(1===i.length)console.log("Strategy: Positioning"),s=F(e.boardState,o);else if(j(e.boardState.computer,["bb"])&&1===e.boardState.computer.length&&2===e.boardState.user.length&&j(y.corners,e.boardState.user)&&2===_(y.corners,e.boardState.user).length&&e.boardState.user[0].substring(1)!==e.boardState.user[1].substring(1)&&e.boardState.user[0].substring(0,1)!==e.boardState.user[1].substring(0,1)){console.log("Strategy: Diagonal Counter");var p=_(y.edges,o),m=Math.floor(Math.random()*p.length);s=p[m]}else u.length>0?(console.log("Strategy: Offense"),s=u[0]):l.length>0?(console.log("Strategy: Defense"),s=l[0]):(console.log("Strategy: Positioning"),s=F(e.boardState,o));return a.boardState.computer.push(s),a.result=T(a.boardState,0,c,t.userFirst),a;default:return e}};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"CHANGE_SETTING_VISIBILITY":return a.visible=!e.visible,a;case"CHANGE_CHARACTER":return"o"===e.players.user?(a.players.user="x",a.players.computer="o"):(a.players.user="o",a.players.computer="x"),a;case"CHANGE_FIRST":return a.goFirst=!e.goFirst,a;default:return e}},P=Object(i.c)({settings:I,gameState:x,routing:w.routerReducer}),V={gameState:{active:!1,boardState:{user:[],computer:[]},result:"GAME_IN_PROGRESS"},settings:{visible:!1,players:{user:"o",computer:"x"},goFirst:!0}},H=Object(i.d)(P,V,Object(i.a)(A.a)),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var B=s.a.createElement(l.a,{store:H},s.a.createElement(M,null));c.a.render(B,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");W?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):U(e)}))}}()}},[[17,1,2]]]);
//# sourceMappingURL=main.20539499.chunk.js.map